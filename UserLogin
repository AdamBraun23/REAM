import java.awt.*;
import java.awt.event.*;
import java.io.File;
import java.io.PrintWriter;
import java.util.Scanner;
import javax.swing.*;
import javax.swing.border.TitledBorder;

public class UserLogin extends JFrame implements ActionListener {
	JPanel panel1; 
	JLabel usernameL, passwordL, message;
	JTextField usernameT;
    JPasswordField passwordT;
    JButton login, add, delete, enter;
    
    UserLogin() {
      usernameL = new JLabel("User Name :");
      usernameT = new JTextField();
      passwordL = new JLabel("Password :");
      passwordT = new JPasswordField();
      login = new JButton("LOGIN");
      login.addActionListener(this);
      add= new JButton("Create Account");
      add.addActionListener(this);
      delete = new JButton("Delete Account");
  	  delete.addActionListener(this);
  	  enter= new JButton("Enter Application");
  	  enter.addActionListener(this);
  	  panel1 = new JPanel(new BorderLayout()); 
  	  panel1.setLayout((LayoutManager) new BoxLayout(panel1, BoxLayout.Y_AXIS));
      
      panel1.add(usernameL);
      panel1.add(usernameT);
      panel1.add(passwordL);
      panel1.add(passwordT);
      message = new JLabel();
      panel1.add(message);
      panel1.add(login);
      panel1.add(add);
      panel1.add(delete);
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
  	  JFrame frame = new JFrame();
	  frame.add(panel1);
	  frame.setSize(325,225);
	  frame.setTitle("Login to your Movie Screen"); 
	  frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
	  frame.setVisible(true);
   }
   
   /*public void readContactsFromFile()
	{
		Scanner obj = null;
		File contacts=null;
		
		try 
		{
			contacts=new File("contacts.txt");
			obj = new Scanner(contacts);
			String s = "";
			
			while(obj.hasNextLine()) 
			{
				s = obj.nextLine() + "\n";
			}
			
			textArea.setText(s);
			
	    }
		catch(Exception e)
		{
			System.out.println(e);
		}
		finally
		{
			obj.close();
		}
	}*/
   
   public void writeContactsToFile()
	{
		PrintWriter write = null;
		File users = null;
		
		try
		{
			users = new File("users.txt");
			write = new PrintWriter(users);
		}
		catch(Exception e) 
		{
			System.out.print(e);
		}
		finally 
		{
			write.close();
		}
	}
    
    public void actionPerformed(ActionEvent event) 
	{ 
		if(event.getActionCommand().equals("Create Account")) 
		{
			String userName = usernameT.getText();

			message.setText("Welcome " + userName + ", you are now in the System!");
			
			writeContactsToFile();
			
			panel1.remove(add);
		    panel1.remove(login);
		    panel1.remove(delete);
		    panel1.add(enter);
		}
		
		if(event.getActionCommand().equals("LOGIN"))
		{
			String userName = usernameT.getText();
		    
		    message.setText(" Hello " + userName + "");
		    
		    panel1.remove(add);
		    panel1.remove(login);
		    panel1.remove(delete);
		    panel1.add(enter);
		} 
		
		if(event.getActionCommand().equals("Enter Application")) 
		{
			new MovieAppInterface();
		}
	}
	
   public static void main(String[] args) {
	   UserLogin log = new UserLogin();
   }
}
